#!/usr/bin/env ruby
#coding: utf-8

require 'thor'
require 'http_status_checker'

class Command < Thor
  default_command :http_status_checker

  desc 'http_status_checker', 'Checking whether can access url'
  def http_status_checker(url)
    results = HttpStatusChecker.check(url)
    results.each do |result|
      result.each do |url, res|
        puts "url: #{url}"
        puts "response: #{res}"
      end
    end
  end
end

Command.start
